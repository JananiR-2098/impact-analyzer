<ngx-graph
  class="graph-container"
  [nodes]="nodes"
  [links]="links"
  [layout]="'dagre'"
  [curve]="curve"
  (nodeClick)="onNodeClick($event)"
  (linkClick)="onLinkClick($event)"
>

  <!-- Node Template -->
  <ng-template #nodeTemplate let-node>
    <svg:g>
       <circle
      [attr.r]="20"
      [attr.cx]="20"
      [attr.cy]="20"
      [attr.fill]="node.data?.critical ? '#d9534f' : '#3f51b5'">
    </circle>


      <svg:text
        x="20"
        y="25"
        text-anchor="middle"
        fill="white"
        font-size="12">
        {{ node.label }}
      </svg:text>
    </svg:g>
  </ng-template>

  <!-- Link Template -->
  <ng-template #linkTemplate let-link>
    <svg:g>
      <svg:path
        [attr.d]="link.line"
        stroke="#888"
        stroke-width="2"
        fill="none">
      </svg:path>

      <svg:text text-anchor="middle" dy="-6" font-size="11">
        {{ link.label }}
      </svg:text>
    </svg:g>
  </ng-template>

</ngx-graph>
