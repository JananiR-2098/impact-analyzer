<div class="graph-container no-edit">

<ngx-graph
  class="graph-container"
  [nodes]="nodes"
  [links]="links"
  [layout]="'dagre'"
  [curve]="curve"
  (nodeClick)="onNodeClick($event)"
  (linkClick)="onLinkClick($event)"
>

  <!-- Node Template -->
  <ng-template #nodeTemplate let-node>
     <svg:g>
        <rect
            [attr.width]="node.data?.textWidth + 20"
            [attr.height]="30"
            rx="15"
            ry="15"
            [attr.fill]="node.data?.critical ? '#d9534f' : '#3f51b5'"
        ></rect>

      <text
            x="10"
            y="20"
            fill="black"
            style="font-size: 14px; font-family: Arial;"
        >
            {{ node.label }}
    </text>
    </svg:g>
  </ng-template>

  <!-- Link Template -->
  <ng-template #linkTemplate let-link>
    <svg:g>
      <svg:path
        [attr.d]="link.line"
        stroke="#888"
        stroke-width="2"
        fill="none">
      </svg:path>

      <svg:text text-anchor="middle" dy="-6" font-size="11">
        {{ link.label }}
      </svg:text>
    </svg:g>
  </ng-template>

</ngx-graph>
</div>
